---
story:
  epic: 1
  story: 2
  title: "Calculate Basic Investment Return"
  status: "Approved"
---

As a user, I want to enter an initial investment, regular contribution, contribution frequency, annual interest rate, and investment period, so that I can see the estimated future value, total contributions, and total earnings of my investment.

### Acceptance Criteria

1.  **Input Fields:** The screen must have fields for "Initial Investment," "Regular Contribution," "Annual Interest Rate (%)", and "Investment Period (Years)".
2.  **Contribution Frequency:** A dropdown or selection for "Contribution Frequency" with options: "Monthly", "Quarterly", "Annually".
3.  **Dynamic Calculations:** All calculations must update automatically as the user enters or changes values.
4.  **Currency Formatting:** All financial outputs ("Estimated Future Value", "Total Contributions", "Total Earnings") must be formatted as currency (e.g., "$1,234.56 CAD") and rounded to two decimal places.
5.  **Input Validation:**
    *   Initial Investment >= 0 and less than 99,000,000.
    *   Regular Contribution >= 0 and less than 99,000,000.
    *   Annual Interest Rate >= 0 and less than 100.
    *   Investment Period (Years) > 0 and up to 50.
    *   At least one of Initial Investment or Regular Contribution must be > 0.
    *   Invalid inputs should result in outputs of "$0.00" or an appropriate error message.

### UI/UX Notes

*   Refer to the design system for standard input fields, buttons, and currency display formatting.
*   Ensure the layout is responsive and works well on various screen sizes.
*   Provide clear visual feedback for selected options (e.g., contribution frequency).

### Technical Notes

*   Use the existing currency formatting utilities.
*   Implement the future value calculation logic in a dedicated use case to separate business logic from the UI.
*   Ensure all state changes are managed efficiently to prevent unnecessary re-renders.

### Tasks / Subtasks

1.  **Create the feature directory structure for `investment_calculator`.**
2.  **Implement the `InvestmentCalculation` entity and `InvestmentCalculationModel`.**
3.  **Implement the `CalculateInvestmentReturnUseCase`.**
4.  **Create the `InvestmentInputForm` widget.**
5.  **Create the `InvestmentResultDisplay` widget.**
6.  **Develop the `InvestmentCalculatorPage` to integrate the form and result display.**
7.  **Write unit tests for the `CalculateInvestmentReturnUseCase` and `InvestmentCalculationModel`.**
8.  **Write widget tests for the `InvestmentInputForm` and `InvestmentResultDisplay` widgets.**
9.  **Write integration tests for the investment calculation feature.**
